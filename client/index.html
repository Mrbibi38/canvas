<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Collaborative Drawing Canvas</title>
    <link rel="stylesheet" href="style.css">
    <script src="https://kit.fontawesome.com/833730d39f.js" crossorigin="anonymous"></script>
</head>
<body>
    <header class="site-header">
        <div class="wrapper site-header__wrapper">
            <div class="start">
                <img src="./img/paint_icon.png" alt="Icon">
                <img src="./img/whiteboard_icon.png" alt="Icon">
                <h1>Whiteboard</h1>
            </div>
            <div class="middle"></div>
            <div class="end">
                <div class="login">
                    <!-- Login Status -->
                    <!-- <div id="loginStatus">
                        Logged in as: <span id="userRole">Student</span>
                    </div> -->
                    <!-- Login Button -->
                    <button id="loginButton" class="login-button" onclick="toggleLoginForm()">Login as Teacher</button> 
                    <button id="logoutButton" class="logout-button" onclick="logout()">Disconnect</button> 
                </div>
            </div>
        </div>
    </header>

    <!-- Login Modal -->
    <div id="loginModal" class="modal" style="display: none;">
        <div class="modal-content">
            <span class="close" onclick="toggleLoginForm()">&times;</span>
            <h2>Login as Teacher</h2>
            <label for="username">Username:</label>
            <input type="text" id="username" name="username" required>
            <label for="password">Password:</label>
            <input type="password" id="password" name="password" required>
            <button id="submitLogin" onclick="loginAsTeacher()">Login</button>
        </div>
    </div>

    <!-- Connection Success Modal -->
    <div id="successModal" class="modal" style="display: none;">
        <div class="modal-content">
            <span class="close" onclick="toggleSuccessModal()">&times;</span>
            <h2><i class="fa-regular fa-circle-check"></i> Connection Successful!</h2>
            <p>You are now logged in as a teacher.</p>
            <button onclick="toggleSuccessModal()">Continue</button>
        </div>
    </div>

    <!-- Connection Fail Modal -->
    <div id="failModal" class="modal" style="display: none;">
        <div class="modal-content">
            <span class="close" onclick="toggleFailModal()">&times;</span>
            <h2><i class="fa-solid fa-triangle-exclamation"></i> Connection Failed</h2>
            <p>Login failed. Please check your credentials and try again.</p>
            <button onclick="toggleFailModal()">Continue</button>
        </div>
    </div>

    <!-- Disconnect Modal -->
    <div id="disconnectModal" class="modal" style="display: none;">
        <div class="modal-content">
            <span class="close" onclick="toggleDisconnectModal()">&times;</span>
            <h2><i class="fa-solid fa-arrow-right-from-bracket"></i> Disconnected</h2>
            <p>You have been successfully disconnected.</p>
            <button onclick="toggleDisconnectModal()">Continue</button>
        </div>
    </div>

    <!-- Unauthorized Modal -->
    <div id="unauthorizedModal" class="modal" style="display: none;">
        <div class="modal-content">
            <span class="close" onclick="toggleUnauthorizedModal()">&times;</span>
            <h2><i class="fa-solid fa-ban"></i> Unauthorized Access</h2>
            <p>You do not have permission to access this feature. Please log in as a teacher.</p>
            <button onclick="toggleUnauthorizedModal()">Continue</button>
        </div>
    </div>

    <div class="callout">
        <div class="callout-header">
            <span>
                <i class="fa-solid fa-circle-info"></i>
            </span>
            <div class="callout-header-text">
                Logged as Student
            </div> 
        </div>
        <div class="callout-content">
            You can view the whiteboard but you can't draw on it.
        </div>
    </div>

    <!-- The drawing canvas -->
    <div class="canvas-container">
        <canvas id="canvas"></canvas>
        <div class="toolbar">
            <!-- Line Thickness Slider -->
            <div class="thickness-slider">
                <label for="lineThickness">Line size: </label>
                <input type="range" id="lineThickness" min="1" max="10" value="2">
                <div class="lineThicknessValue"></div>
            </div>
            <div class="colors">
                <div class="colors-label">
                    <label for="lineThickness">Line color: </label>
                </div>
                <div class="colors-btns">
                    <!-- Color buttons will be added here dynamically -->
                </div>
            </div>
            <button id="clearButton" class="clear-button" onclick="clearArea()">Clear whiteboard</button>
        </div>
    </div>

    <script src="app.js"></script>
</body>
</html>
